(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/wode/wode"],{"06bd":function(o,t,e){"use strict";e.r(t);var n=e("6293"),i=e.n(n);for(var s in n)"default"!==s&&function(o){e.d(t,o,(function(){return n[o]}))}(s);t["default"]=i.a},"19f7":function(o,t,e){},2391:function(o,t,e){"use strict";e.r(t);var n=e("6337"),i=e("06bd");for(var s in i)"default"!==s&&function(o){e.d(t,o,(function(){return i[o]}))}(s);e("e685");var a,h=e("f0c5"),r=Object(h["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);t["default"]=r.exports},"35af":function(o,t,e){"use strict";(function(o){e("f0f8");n(e("66fd"));var t=n(e("2391"));function n(o){return o&&o.__esModule?o:{default:o}}wx.__webpack_require_UNI_MP_PLUGIN__=e,o(t.default)}).call(this,e("543d")["createPage"])},6293:function(o,t,e){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{userInfo:null,code:"",toshowfenxiShow:!1,phoneAlert:!1,BASE_IMG:"",code1:"",dingshiqi:"",daojishi:100,phone_in:""}},onLoad:function(){this.BASE_IMG=this.$paths.BASE_IMG;var t=o.getStorageSync("userInfo");t&&(this.userInfo=t)},onShow:function(){this.userInfo&&this.getUserInfo(),this.getcode()},methods:{sendcode:function(){var t=this;if(100!=this.daojishi)return!1;if(""==this.phone_in)return this.$tools.showToast("请输入电话"),!1;var e={params:{phone:this.phone_in,exhType:o.getStorageSync("exType")}};this.$axios.axios("POST",this.$paths.getphonesendmsg,e).then((function(o){200==o.code?(t.$tools.showToast("短信发送成功"),clearInterval(t.dingshiqi),t.dingshiqi=setInterval((function(o){t.daojishi-1<=0?(t.daojishi=100,clearInterval(t.dingshiqi)):t.daojishi=t.daojishi-1}),1e3)):t.$tools.showToast(o.msg)})).catch((function(o){console.log("错误回调",o)}))},getphonebinding:function(){var o=this;if(""==this.phone_in)return this.$tools.showToast("请输入手机号"),!1;if(""==this.code1||""==this.phone_in)return this.$tools.showToast("请填写完整验证码和手机号"),!1;var t={params:{phone:this.phone_in,code:this.code1}};this.$axios.axios("post",this.$paths.getphonebinding,t).then((function(t){200==t.code?o.getphoneupdate():o.$tools.showToast(t.msg)})).catch((function(o){}))},getphoneupdate:function(){var t=this;if(""==this.phone_in)return this.$tools.showToast("请输入手机号"),!1;if(""==this.code1||""==this.phone_in)return this.$tools.showToast("请填写完整验证码和手机号"),!1;var e={openid:o.getStorageSync("openid"),phonenum:this.phone_in,exhType:o.getStorageSync("exType"),params:{code:this.code1}};this.$axios.axios("post",this.$paths.getphoneupdate,e).then((function(o){200==o.code?(t.$tools.showToast("修改成功"),setTimeout((function(o){t.getUserInfo()}),1e3)):t.$tools.showToast(o.msg),t.phoneAlert=!1})).catch((function(o){t.phoneAlert=!1}))},getcode:function(){var t=this;console.log("获取code"),o.login({success:function(o){console.log("显示code",o),t.code=o.code},complete:function(o){console.log("coe",o)}})},phoneAlertClick:function(){this.phoneAlert=!this.phoneAlert},toshowfenxi:function(){this.getcode();var o=this.userInfo;return o?""==o.phonenum?(this.$tools.showToast("请先完善手机号"),!1):void(this.toshowfenxiShow=!this.toshowfenxiShow):(this.$tools.showToast("请先授权登录"),!1)},toLiveList:function(){o.navigateTo({url:"/pages3/myLive/myLive"})},bindgetphonenumber:function(o){console.log("首",o),o.detail.errMsg.indexOf("ok")>=0?this.toHttpPhone(o.detail.encryptedData,o.detail.iv,this.code):this.$tools.showToast("授权手机号失败")},toHttpPhone:function(t,e,n){var i=this,s={params:{encryptedData:t,iv:e,code:n,openid:o.getStorageSync("openid"),exhType:o.getStorageSync("exType")}};this.$axios.axios("POST",this.$paths.getphonewxphone,s).then((function(o){200==o.code?setTimeout((function(o){i.getUserInfo()}),500):i.$tools.showToast(o.msg)})).catch((function(o){}))},toCaozuozhinan:function(){o.navigateTo({url:"../../pages2/caozuozhinne/caozuozhinne"})},getUserInfo:function(){var t=this;this.$axios.axios("GET",this.$paths.wxUserminiapp+o.getStorageSync("openid"),{}).then((function(e){200==e.code?(t.userInfo=e.data,o.setStorageSync("userInfo",t.userInfo)):t.$tools.showToast(e.msg)})).catch((function(o){}))},btngetUserInfo:function(){var o=this;wx.getUserProfile({desc:"用于完善会员资料",success:function(t){console.log("获取个人西悉尼",t),o.toRegister(t.userInfo)}})},toRegister:function(t){var e=this,n={openid:o.getStorageSync("openid"),nickname:t.nickName,userAvatar:t.avatarUrl,userType:"1",exhType:o.getStorageSync("exType")},i=o.getStorageSync("upOpenid");i&&(n.referrerId=i),this.$axios.axios("POSt",this.$paths.registerwxuser,n).then((function(o){200==o.code?(e.$tools.showToast("注册成功"),setTimeout((function(o){e.getUserInfo()}),1e3)):e.$tools.showToast(o.msg)})).catch((function(o){}))},toQiyeinfo:function(t){1==t?o.navigateTo({url:"../../pages1/enterpriseAdd/enterpriseAdd"}):2==t?o.navigateTo({url:"../../pages1/collectionAll/collectionAll"}):3==t?o.navigateTo({url:"../../pages2/purchase_me/purchase_me"}):4==t?o.navigateTo({url:"../../pages2/paiming/paiming"}):5==t?o.navigateTo({url:"../../pages3/imgLive/imgLive"}):6==t?o.navigateTo({url:"../../pages3/kefuList/kefuList"}):7==t?o.navigateTo({url:"../../pages3/saomahexiao/saomahexiao"}):8==t&&o.navigateTo({url:"/pages3/my_erweima/my_erweima"})}}};t.default=e}).call(this,e("543d")["default"])},6337:function(o,t,e){"use strict";var n;e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return n}));var i=function(){var o=this,t=o.$createElement;o._self._c},s=[]},e685:function(o,t,e){"use strict";var n=e("19f7"),i=e.n(n);i.a}},[["35af","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages2/purchase_fabu/purchase_fabu"],{"56d4":function(t,e,s){"use strict";(function(t){s("f0f8");i(s("66fd"));var e=i(s("9450"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=s,t(e.default)}).call(this,s("543d")["createPage"])},"56e0":function(t,e,s){"use strict";var i;s.d(e,"b",(function(){return o})),s.d(e,"c",(function(){return n})),s.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},n=[]},6233:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{tags:[],tagName:"",form:{classification:"",exhId:"",type:"",label:"",content:"",represent:"",openid:""},typeList:[]}},onLoad:function(){this.getXijiefenlei()},methods:{toSubmit:function(){var e=this,s=t.getStorageSync("userInfo");if(!s)return t.showModal({title:"提示",content:"请先登录",success:function(e){e.confirm?t.reLaunch({url:"/pages/wode/wode"}):e.cancel&&console.log("用户点击取消")}}),!1;if(!this.isSubmit())return!1;var i=this.form;i.openid=t.getStorageSync("openid"),i.label=this.tags.join(","),i.exhType=t.getStorageSync("exType"),this.$axios.axios("POST",this.$paths.supplyandneedpublish,i).then((function(s){200==s.code?(e.$tools.showToast("发布成功"),setTimeout((function(e){t.navigateBack({delta:1})}),1e3)):e.$tools.showToast(s.msg)})).catch((function(t){}))},isSubmit:function(){return""==this.form.classification?(this.$tools.showToast("请选择分类"),!1):(this.form.classification=this.typeList[this.form.classification].id,""==this.form.content?(this.$tools.showToast("请输入内容"),!1):""==this.form.classification?(this.$tools.showToast("请选择分类"),!1):this.tags.length<=0?(this.$tools.showToast("请至少插入一个标签"),!1):""!=this.form.represent||(this.$tools.showToast("请输入需求描述"),!1))},getXijiefenlei:function(){var e=this,s={exhType:t.getStorageSync("exType")};this.$axios.axios("POST",this.$paths.classification,s).then((function(t){200==t.code?e.typeList=t.data:e.$tools.showToast(t.msg)})).catch((function(t){}))},fabutype:function(t){this.form.type=parseInt(t.detail.value)+1},typeChange:function(t){this.form.classification=t.detail.value},delTag:function(t){for(var e=this.tags,s=[],i=0;i<e.length;i++)t!=i&&s.push(e[i]);this.tags=s},tagListClick:function(){if(""!=this.tagName){if(this.tags.length>=5)return this.$tools.showToast("不能超过5个标签"),!1;this.tags.push(this.tagName),this.tagName=""}else this.$tools.showToast("请输入标签内容")}}};e.default=s}).call(this,s("543d")["default"])},"682a":function(t,e,s){"use strict";var i=s("991c"),o=s.n(i);o.a},9450:function(t,e,s){"use strict";s.r(e);var i=s("56e0"),o=s("c55c");for(var n in o)"default"!==n&&function(t){s.d(e,t,(function(){return o[t]}))}(n);s("682a");var a,c=s("f0c5"),u=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);e["default"]=u.exports},"991c":function(t,e,s){},c55c:function(t,e,s){"use strict";s.r(e);var i=s("6233"),o=s.n(i);for(var n in i)"default"!==n&&function(t){s.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a}},[["56d4","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages1/shopInfo/shopInfo"],{"23b5":function(o,n,t){},"25b6":function(o,n,t){"use strict";var s=t("23b5"),i=t.n(s);i.a},"2ad7":function(o,n,t){"use strict";t.r(n);var s=t("9e8f"),i=t("eac0");for(var a in i)"default"!==a&&function(o){t.d(n,o,(function(){return i[o]}))}(a);t("25b6");var e,c=t("f0c5"),h=Object(c["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],e);n["default"]=h.exports},"6fc7":function(o,n,t){"use strict";(function(o){t("f0f8");s(t("66fd"));var n=s(t("2ad7"));function s(o){return o&&o.__esModule?o:{default:o}}wx.__webpack_require_UNI_MP_PLUGIN__=t,o(n.default)}).call(this,t("543d")["createPage"])},"9e8f":function(o,n,t){"use strict";var s;t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return s}));var i=function(){var o=this,n=o.$createElement;o._self._c},a=[]},a7d3:function(o,n,t){"use strict";(function(o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{indexSwiper:0,menus:["公司简介","产品展示","现场","3D云展"],menuIndex:0,options:{},shopInfo:{},BASE_IMG:"",bannersList:[],liulanrenList:[],goodList:[],xianchangList:[]}},onLoad:function(o){this.BASE_IMG=this.$paths.BASE_IMG,this.getShopInfo(o.id),this.getGoods()},onShareAppMessage:function(){return{title:this.shopInfo.companyName,imageUrl:this.BASE_IMG+this.shopInfo.companyAvatar,path:"/pages1/shopInfo/shopInfo?id="+this.shopInfo.companyId}},methods:{toDimingpian:function(){var n=this,t=o.getStorageSync("userInfo");if(!t)return this.$tools.showToast("请先登录"),!1;if(!t.phonenum)return this.$tools.showToast("请先授权手机号"),!1;var s={companyId:this.shopInfo.companyId,nickName:t.nickname,phone:t.phonenum,exhType:o.getStorageSync("exType")};this.$axios.axios("POST",this.$paths.companydeliver,s).then((function(o){200==o.code?n.$tools.showToast("成功递名片"):n.$tools.showToast(o.msg)})).catch((function(o){}))},showimg:function(n){var t=this.xianchangList;o.previewImage({current:t[n],urls:t,indicator:"number",longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(o){console.log("选中了第"+(o.tapIndex+1)+"个按钮,第"+(o.index+1)+"张图片")},fail:function(o){console.log(o.errMsg)}}})},getXianchangimgs:function(){var o=this,n={companyId:this.shopInfo.companyId};this.$axios.axios("POST",this.$paths.companyscene,n).then((function(n){if(200==n.code){for(var t=n.data,s=[],i=0;i<t.length;i++)t[i].url=o.BASE_IMG+t[i].url,s.push(t[i].url);o.xianchangList=s}else o.$tools.showToast(n.msg)})).catch((function(o){}))},toGoodInfo:function(n){o.navigateTo({url:"../goodInfo/goodInfo?id="+n.productId})},getGoods:function(){var n=this,t={companyId:this.shopInfo.companyId,params:{openid:o.getStorageSync("openid")}};this.$axios.axios("POST",this.$paths.productlistminiapp,t).then((function(o){200==o.code?n.goodList=o.data:n.$tools.showToast(o.msg)})).catch((function(o){}))},toOPenMap:function(){wx.openLocation({type:"gcj02",latitude:this.shopInfo.lat,longitude:this.shopInfo.lng,name:this.shopInfo.place,scale:28})},toShoucang:function(){var n=this,t=o.getStorageSync("userInfo");if(!t)return this.$tools.showToast("请先登录"),!1;var s={companyId:this.shopInfo.companyId,openid:o.getStorageSync("openid"),isMark:1==this.shopInfo.isMark?0:1};this.$axios.axios("POST",this.$paths.companymark,s).then((function(o){200==o.code?n.shopInfo.isMark=s.isMark:n.$tools.showToast(o.msg)})).catch((function(o){}))},toDIanzan:function(){var n=this;if(!this.$tools.islogin())return this.$tools.showToast("请先登录"),!1;var t={companyId:this.shopInfo.companyId,openid:o.getStorageSync("openid"),isLike:1==this.shopInfo.isLike?0:1};this.$axios.axios("POST",this.$paths.companylike,t).then((function(o){200==o.code?n.shopInfo.isLike=t.isLike:n.$tools.showToast(o.msg)})).catch((function(o){}))},visitcompanyGet:function(){var o=this,n={companyId:this.shopInfo.companyId};this.$axios.axios("POST",this.$paths.visitcompany,n).then((function(n){200==n.code?o.liulanrenList=n.data:o.$tools.showToast(n.msg)})).catch((function(o){}))},getShopBanners:function(){var o=this,n={companyId:this.shopInfo.companyId};this.$axios.axios("POST",this.$paths.companycarousel,n).then((function(n){200==n.code?o.bannersList=n.data:o.$tools.showToast(n.msg)})).catch((function(o){}))},getShopInfo:function(n){var t=this,s={companyId:n,openid:o.getStorageSync("openid")};this.$axios.axios("POST",this.$paths.companybyid,s).then((function(o){if(200==o.code){var n=o.data;n.mainProduct?n.mainProduct=n.mainProduct.split(","):n.mainProduct=[],t.shopInfo=n,t.getShopBanners(),t.visitcompanyGet()}else t.$tools.showToast(o.msg)})).catch((function(o){}))},menuIndecChange:function(o){o<3?(this.menuIndex=o,1==o?this.getGoods():2==o&&this.getXianchangimgs()):this.$tools.showToast("敬请期待")},swiperChange:function(o){this.indexSwiper=o.detail.current}}};n.default=t}).call(this,t("543d")["default"])},eac0:function(o,n,t){"use strict";t.r(n);var s=t("a7d3"),i=t.n(s);for(var a in s)"default"!==a&&function(o){t.d(n,o,(function(){return s[o]}))}(a);n["default"]=i.a}},[["6fc7","common/runtime","common/vendor"]]]);
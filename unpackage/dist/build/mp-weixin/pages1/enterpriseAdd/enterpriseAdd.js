(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages1/enterpriseAdd/enterpriseAdd"],{1338:function(t,o,s){"use strict";var n;s.d(o,"b",(function(){return i})),s.d(o,"c",(function(){return e})),s.d(o,"a",(function(){return n}));var i=function(){var t=this,o=t.$createElement;t._self._c},e=[]},"5b84":function(t,o,s){},"6a4b":function(t,o,s){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s={data:function(){return{form:{companyName:"",license:"",contactsName:"",contactsPhone:"",companyLogo:"",openid:"",status:"0"},BASE_IMG:"",code:"",dingshiqi:"",daojishi:100}},onLoad:function(){this.BASE_IMG=this.$paths.BASE_IMG,this.form.openid=t.getStorageSync("openid")},methods:{sendcode:function(){var o=this;if(100!=this.daojishi)return!1;var s=this.form;if(""==s.contactsPhone)return this.$tools.showToast("请输入电话"),!1;var n={params:{phone:s.contactsPhone,exhType:t.getStorageSync("exType")}};this.$axios.axios("POST",this.$paths.getphonesendmsg,n).then((function(t){200==t.code?(o.$tools.showToast("短信发送成功"),clearInterval(o.dingshiqi),o.dingshiqi=setInterval((function(t){o.daojishi-1<=0?(o.daojishi=100,clearInterval(o.dingshiqi)):o.daojishi=o.daojishi-1}),1e3)):o.$tools.showToast(t.msg)})).catch((function(t){console.log("错误回调",t)}))},getphonebinding:function(){var t=this;if(!this.isSubmit())return!1;if(""==this.code||""==this.form.contactsPhone)return this.$tools.showToast("请填写完整验证码和手机号"),!1;var o={params:{phone:this.form.contactsPhone,code:this.code}};this.$axios.axios("post",this.$paths.getphonebinding,o).then((function(o){200==o.code?t.toSubmit():t.$tools.showToast(o.msg)})).catch((function(t){}))},isSubmit:function(){return""==this.form.companyName?(this.$tools.showToast("请输入企业名称"),!1):""==this.form.license?(this.$tools.showToast("请上传营业执照"),!1):""==this.form.contactsName?(this.$tools.showToast("请输入联系人姓名"),!1):""==this.form.contactsPhone?(this.$tools.showToast("请输入联系人电话"),!1):!!this.$tools.isphone(this.form.contactsPhone)||(this.$tools.showToast("请输入正确的手机号"),!1)},toSubmit:function(){var o=this;if(!this.isSubmit())return!1;if(""==this.code||""==this.form.contactsPhone)return this.$tools.showToast("请填写完整验证码和手机号"),!1;var s=this.form;s.exhType=t.getStorageSync("exType"),s.params={code:this.code},this.$axios.axios("POSt",this.$paths.examinecompany,s).then((function(s){200==s.code?(o.$tools.showToast("提交成功，请等待审核"),setTimeout((function(o){t.navigateBack({delta:1})}),1e3)):o.$tools.showToast(s.msg)})).catch((function(t){}))},selImg:function(o){var s=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(t){t.tempFilePaths.length>0&&s.uploadimg(o,t.tempFilePaths[0])}})},uploadimg:function(t,o){var s=this;this.$axios.axiosUpload(this.$paths.miniappupload,o).then((function(o){200==o.code?0==t?s.form.license=o.fileName:s.form.companyLogo=o.fileName:s.$tools.showToast(o.msg)})).catch((function(t){}))},examinecompanyAdd:function(){}}};o.default=s}).call(this,s("543d")["default"])},8762:function(t,o,s){"use strict";s.r(o);var n=s("1338"),i=s("be76");for(var e in i)"default"!==e&&function(t){s.d(o,t,(function(){return i[t]}))}(e);s("b3cd");var a,c=s("f0c5"),h=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);o["default"]=h.exports},b3cd:function(t,o,s){"use strict";var n=s("5b84"),i=s.n(n);i.a},be76:function(t,o,s){"use strict";s.r(o);var n=s("6a4b"),i=s.n(n);for(var e in n)"default"!==e&&function(t){s.d(o,t,(function(){return n[t]}))}(e);o["default"]=i.a},f9b9:function(t,o,s){"use strict";(function(t){s("f0f8");n(s("66fd"));var o=n(s("8762"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=s,t(o.default)}).call(this,s("543d")["createPage"])}},[["f9b9","common/runtime","common/vendor"]]]);